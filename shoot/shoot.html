<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title>
    <style>
     * { padding: 0; margin: 0; }
     canvas { background: #AAe; position:absolute; top:0; left:0; }
    </style>
</head>
<body>

<canvas id="myCanvas"></canvas>

<script type="module">
    import * as pers from './Perso/perso.js';
    import * as resize from './Geometry/resize.js';
    import * as mouse from './shoot-click.js';

    const Perso = pers.perso;

    const canvas = document.getElementById("myCanvas");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const ctx = canvas.getContext("2d");
    ctx.imageSmoothingEnabled = false;

    const cosmo = config.cosmo;
    const perso = new Perso({x:250, y:300}, resize.rect(config.cosmo, canvas.width, canvas.height), 
    ['./Sprite/cosmo.png','./Sprite/cosmo-head.png','./Sprite/cosmo-foot.png'],
    cosmo.attack, cosmo.life, cosmo.speed);

    const intDraw = setInterval(draw, 10);
    ctx.translate(canvas.width, 0);
        ctx.scale(-1, 1)

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        perso.draw(ctx);
        perso.move(getCoordonees(), mouse.coordonne.x);
    }
</script>
<script src="./shoot-keys.js"></script>
<script src="./Config/config.json"></script>
    
</body>
</html>