<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Gamedev Canvas Workshop</title>
    </head>
    <body>

        <canvas id="myCanvas"></canvas>

        <script src="../Config/config.json"></script>
        <script src="../shoot-keys.js"></script>
        <script type="module">
            import * as pers from '../Perso/perso.js';
            import * as resize from './resize.js';

            const Perso = pers.perso;

            const canvas = document.getElementById("myCanvas");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const ctx = canvas.getContext("2d");
            ctx.imageSmoothingEnabled = false;

            const perso = new Perso({x:250, y:300}, resize.rect(config.cosmo, canvas.width, canvas.height), 
            ['../Sprite/cosmo.png','../Sprite/cosmo-head.png','../Sprite/cosmo-foot.png']);
            perso.setAnim([0,1], 250);

            const intDraw = setInterval(draw, 10);

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                perso.draw(ctx);
                perso.move(getCoordonees());
            }
        </script>
        
    </body>
</html>